---
import TinaAdminApp from '../../components/TinaAdminApp.jsx';
---

<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CRYPTORO Admin</title>
    <style>
      html,
      body {
        margin: 0;
        height: 100%;
        min-height: 100%;
        background: #f3f4f6;
        font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        overflow: auto !important;
      }
      astro-island {
        display: block;
        min-height: 100%;
      }
      .tina-tailwind,
      [data-tina-root],
      [data-test='tina-admin'] {
        min-height: 100vh !important;
      }
      .tina-tailwind main,
      [data-test='tina-admin'] main {
        overflow-y: auto !important;
      }
    </style>
  </head>
  <body>
    <TinaAdminApp client:only="react" />
    <script is:inline>
      (() => {
        const forceScroll = () => {
          document.documentElement.style.overflow = 'auto';
          document.body.style.overflow = 'auto';
          const roots = document.querySelectorAll('.tina-tailwind, [data-tina-root], [data-test="tina-admin"]');
          roots.forEach((root) => {
            root.style.minHeight = '100vh';
          });
          const mains = document.querySelectorAll('.tina-tailwind main, [data-test="tina-admin"] main');
          mains.forEach((main) => {
            main.style.overflowY = 'auto';
            main.style.maxHeight = 'calc(100vh - 56px)';
          });
        };
        window.addEventListener('load', forceScroll);
        window.setInterval(forceScroll, 700);
      })();
    </script>
  </body>
</html>
